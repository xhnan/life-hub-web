# 获取菜单树接口文档

## 接口信息

- **接口名称**：获取菜单树
- **接口路径**：`/sys/menu/tree`
- **请求方式**：`GET`
- **接口描述**：获取系统菜单树结构，包含父子层级关系

## 请求参数

**无参数**

**请求示例：**
```http
GET /sys/menu/tree
```

## 响应参数

### 响应结构

| 字段名 | 类型 | 说明 |
|--------|------|------|
| code | int | 响应状态码，200 表示成功，500 表示失败 |
| message | string | 响应消息 |
| data | array | 菜单树数据 |
| timestamp | long | 响应时间戳（毫秒） |
| success | boolean | 请求是否成功 |

### data 字段说明（MenuTreeModel）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | long | 菜单ID |
| parentId | long | 父菜单ID，顶级菜单为 null 或 0 |
| menuName | string | 菜单名称 |
| level | integer | 菜单层级（从0开始） |
| icon | string | 菜单图标 |
| sort | integer | 排序序号，数值越小越靠前 |
| path | string | 路由路径 |
| component | string | 组件路径 |
| menuType | integer | 菜单类型：0-目录，1-菜单，2-按钮 |
| visible | boolean | 是否可见：true-可见，false-隐藏 |
| permission | string | 权限标识（如：sys:user:add） |
| children | array | 子菜单列表，结构与当前对象相同 |

## 响应示例

### 成功响应
```json
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "id": 1,
      "parentId": null,
      "menuName": "系统管理",
      "level": 0,
      "icon": "setting",
      "sort": 1,
      "path": "/system",
      "component": null,
      "menuType": 0,
      "visible": true,
      "permission": null,
      "children": [
        {
          "id": 2,
          "parentId": 1,
          "menuName": "用户管理",
          "level": 1,
          "icon": "user",
          "sort": 1,
          "path": "user",
          "component": "system/user/index",
          "menuType": 1,
          "visible": true,
          "permission": "system:user:list",
          "children": [
            {
              "id": 5,
              "parentId": 2,
              "menuName": "新增用户",
              "level": 2,
              "icon": null,
              "sort": 1,
              "path": null,
              "component": null,
              "menuType": 2,
              "visible": true,
              "permission": "system:user:add",
              "children": null
            }
          ]
        },
        {
          "id": 3,
          "parentId": 1,
          "menuName": "角色管理",
          "level": 1,
          "icon": "team",
          "sort": 2,
          "path": "role",
          "component": "system/role/index",
          "menuType": 1,
          "visible": true,
          "permission": "system:role:list",
          "children": null
        }
      ]
    },
    {
      "id": 10,
      "parentId": null,
      "menuName": "首页",
      "level": 0,
      "icon": "home",
      "sort": 0,
      "path": "/dashboard",
      "component": "dashboard/index",
      "menuType": 1,
      "visible": true,
      "permission": null,
      "children": null
    }
  ],
  "timestamp": 1735262400000,
  "success": true
}
```

### 失败响应
```json
{
  "code": 500,
  "message": "获取菜单树失败",
  "data": null,
  "timestamp": 1735262400000,
  "success": false
}
```

## 状态码说明

| 状态码 | 说明 |
|--------|------|
| 200 | 请求成功 |
| 500 | 服务器内部错误 |
| 401 | 未授权（需要登录） |

## 注意事项

1. **菜单类型说明**：
   - `0`：目录（folder），用于分组，不对应具体页面
   - `1`：菜单（menu），对应具体页面
   - `2`：按钮（button），页面内的功能按钮权限

2. **父子关系**：通过 `parentId` 和 `children` 字段构建树形结构

3. **权限控制**：前端需要根据 Token 进行认证，在请求头中携带 Authorization

4. **排序规则**：同级菜单按照 `sort` 字段升序排列

5. **空数据处理**：如果没有任何菜单，`data` 将返回空数组 `[]`
